(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{2191:function(e,t,a){Promise.resolve().then(a.bind(a,6530))},3469:function(e,t){"use strict";t.Z={src:"/_next/static/media/my_building_logo.3d8c087f.svg",height:50,width:200}},307:function(e,t,a){"use strict";a.d(t,{t:function(){return r},z:function(){return s}});let r={ADMIN_CREDENTIALS:{username:"admin",passweord:"admin@123"},SIGNINCONSTANTS:{username:"Username is required",password:{requirePassword:"Password is required"}},Login:{SUCCESS:"Login Successful",FAILED:"Login Unsuccessfull"},ROUTING_PATHS:{login:"/",dashboard:"/dashboard"},LOCAL_STORAGE_KEYS:{TOKEN:"token"},SHOPS_PAGINATION_FILTER:{limit:10,page:1,sort:"",search:""},FILTER:[{name:"All"},{name:"Approved"},{name:"Not Approved"}]},s={error:{badRequest:400,forbidden:403,internalServerError:500,notFound:404,unauthorized:401},success:200}},6530:function(e,t,a){"use strict";a.r(t);var r=a(1844);a(5784);var s=a(2175),n=a(9332),o=a(1831),d=a(4170),l=a(307),c=a(6310),i=a(5675),u=a.n(i),p=a(3469);let h=()=>{let e=(0,o.TL)();(0,n.useRouter)();let t=c.Ry().shape({username:c.Z_().required(l.t.SIGNINCONSTANTS.username).trim(),password:c.Z_().required(l.t.SIGNINCONSTANTS.password.requirePassword).trim()});return(0,r.jsx)(s.J9,{initialValues:{username:"",password:""},validationSchema:t,onSubmit:a=>{let r=t.cast(a),{username:s,password:n}=r;e((0,d.py)({username:s,password:n}))},children:(0,r.jsx)(s.l0,{children:(0,r.jsx)("div",{className:"bg-seashell min-h-screen flex flex-col ",children:(0,r.jsx)("div",{className:"w-2/5 mx-auto flex-1 flex flex-col items-center justify-center px-2",children:(0,r.jsx)("div",{className:"bg-white mx-auto w-full shadow-md text-cinder",children:(0,r.jsxs)("div",{className:"p-24 justify-center items-center",children:[(0,r.jsx)(u(),{src:p.Z,alt:"my_building_logo",height:"45"}),(0,r.jsx)("h1",{className:"text-2xl mt-10 text-left font-bold",children:"Login"}),(0,r.jsxs)("div",{className:"mb-2 mt-5",children:[(0,r.jsx)("label",{className:"text-cinder",children:"User name"}),(0,r.jsx)(s.gN,{type:"text",className:"block border border-grey-light w-full p-3 rounded mb-4 h-[54px]",name:"username",placeholder:"Username"}),(0,r.jsx)(s.Bc,{name:"username",component:"div",className:"text-red-500 ml-1"}),(0,r.jsx)("label",{className:"text-cinder",children:"Password"}),(0,r.jsx)(s.gN,{type:"password",className:"block border border-grey-light w-full p-3 rounded mb-4",name:"password",placeholder:"Password"}),(0,r.jsx)(s.Bc,{name:"password",component:"div",className:"text-red-500 ml-1"})]}),(0,r.jsx)("button",{type:"submit",className:"w-full h-14 text-center py-3 rounded bg-sunglow text-white my-1",children:"Login"})]})})})})})})};t.default=h},4170:function(e,t,a){"use strict";a.d(t,{vA:function(){return h},fD:function(){return p},ZP:function(){return u},py:function(){return c}});var r=a(6741),s=a(4567),n=a(307),o=a(2920);let d=(e,t)=>{(0,o.Am)(e,{...t})},l=async e=>{try{if(e.username===n.t.ADMIN_CREDENTIALS.username&&e.password===n.t.ADMIN_CREDENTIALS.passweord)return{message:n.t.Login.SUCCESS,success:!0,accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"};throw d(n.t.Login.FAILED,{type:"error"})}catch(t){throw t}},c=(0,r.hg)("signIn",async e=>{try{let t=await l(e);return t}catch(a){throw a}}),i=(0,r.oM)({name:"authSlice",initialState:{status:"idle",userStatus:"idle",isUserLoggedIn:!1},reducers:{auth:e=>e,updateIsLoggedIn:(e,t)=>{e.isUserLoggedIn=t.payload},updateIsLogout:(e,t)=>{e.isUserLoggedIn=t.payload}},extraReducers(e){e.addCase(c.pending,e=>{e.status="loading",e.userStatus="loading"}).addCase(c.fulfilled,(e,t)=>{e.status="fulfilled",e.userStatus="fulfilled",e.isUserLoggedIn=!0,s.m.setItem(n.t.LOCAL_STORAGE_KEYS.TOKEN,t.payload.accessToken),d(t.payload.message,{type:"success"})}).addCase(c.rejected,(e,t)=>{e.status="rejected",e.userStatus="rejected"})}});var u=i.reducer;let p=e=>e,h=i.actions},969:function(e,t,a){"use strict";a.d(t,{ZP:function(){return S},kT:function(){return m},ED:function(){return h},cf:function(){return w},nu:function(){return g}});var r=a(6741),s=a(4170),n=a(1831),o=a(6154),d=a(307),l=a(4567);let c=o.Z.create({baseURL:"https://bc5d-122-179-138-114.ngrok-free.app"});c.interceptors.response.use(e=>e,e=>{let{config:t,response:a}=e;return a&&(null==a?void 0:a.status)===d.z.error.unauthorized&&(n.ZP.dispatch(s.vA.updateIsLoggedIn(!1)),l.m.removeItem("token")),Promise.reject(e)});let i=async e=>{try{let t=await c({method:"get",params:e,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json","User-Agent":"*","ngrok-skip-browser-warning":"*"},url:"".concat("https://bc5d-122-179-138-114.ngrok-free.app","/building")});return t.data}catch(a){throw a}},u=async e=>{try{let t=await c({method:"patch",data:e,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json","User-Agent":"*","ngrok-skip-browser-warning":"*"},url:"".concat("https://bc5d-122-179-138-114.ngrok-free.app","/building/").concat(e._id)});return t.data}catch(a){throw a}},p=async e=>{try{let t=await c({method:"delete",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json","User-Agent":"*","ngrok-skip-browser-warning":"*"},url:"".concat("https://bc5d-122-179-138-114.ngrok-free.app","/building/").concat(e)});return t.data}catch(a){throw a}},h=(0,r.hg)("get/shops",async e=>{try{let t=await i(e);return t}catch(a){throw a}}),g=(0,r.hg)("update/shops",async(e,t)=>{let{dispatch:a}=t;try{let r=await u(e);return a(h(d.t.SHOPS_PAGINATION_FILTER)),r}catch(s){throw s}}),m=(0,r.hg)("delete/shops",async(e,t)=>{let{dispatch:a}=t;try{let r=await p(e);return a(h(d.t.SHOPS_PAGINATION_FILTER)),r}catch(s){throw s}}),f=(0,r.oM)({name:"shop",initialState:{total:0,currentPage:0,perPage:0,totalPages:0,shops:[],getShopDataStatus:!1,isShopDeleted:!1,shopDeleted:""},reducers:{shops:e=>e},extraReducers(e){e.addCase(h.pending,e=>{e.getShopDataStatus=!1}).addCase(h.fulfilled,(e,t)=>{e.getShopDataStatus=!0,e.shops=t.payload.data,e.total=t.payload.total,e.currentPage=t.payload.currentPage,e.perPage=t.payload.perPage,e.totalPages=t.payload.totalPages}).addCase(h.rejected,e=>{e.getShopDataStatus=!1}).addCase(g.pending,e=>{e.getShopDataStatus=!1}).addCase(g.fulfilled,(e,t)=>{e.getShopDataStatus=!0,e.shops=t.payload.data}).addCase(g.rejected,e=>{e.getShopDataStatus=!1}).addCase(m.pending,e=>{e.isShopDeleted=!1}).addCase(m.fulfilled,(e,t)=>{e.isShopDeleted=!0,e.shopDeleted=t.payload.data}).addCase(m.rejected,e=>{e.isShopDeleted=!1})}});var S=f.reducer;let w=e=>e;f.actions},1831:function(e,t,a){"use strict";a.d(t,{CG:function(){return c},TL:function(){return l}});var r=a(4170),s=a(969),n=a(6741),o=a(9473);let d=(0,n.xC)({reducer:{auth:r.ZP,shop:s.ZP}});t.ZP=d;let l=()=>(0,o.I0)(),c=o.v9},4567:function(e,t,a){"use strict";a.d(t,{m:function(){return r}});class r{static setItem(e,t){localStorage.setItem(e,t)}static getItem(e){return localStorage.getItem(e)}static removeItem(e){return localStorage.removeItem(e)}static clearLocalStorage(){return localStorage.clear()}}}},function(e){e.O(0,[512,758,17,744],function(){return e(e.s=2191)}),_N_E=e.O()}]);