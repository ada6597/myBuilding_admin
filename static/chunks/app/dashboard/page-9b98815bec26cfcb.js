(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{1746:function(e,t,s){Promise.resolve().then(s.bind(s,2607))},307:function(e,t,s){"use strict";s.d(t,{t:function(){return a},z:function(){return r}});let a={ADMIN_CREDENTIALS:{username:"admin",passweord:"admin@123"},SIGNINCONSTANTS:{username:"Username is required",password:{requirePassword:"Password is required"}},Login:{SUCCESS:"Login Successful",FAILED:"Login Unsuccessfull"},ROUTING_PATHS:{login:"/",dashboard:"/dashboard"},LOCAL_STORAGE_KEYS:{TOKEN:"token"},SHOPS_PAGINATION_FILTER:{limit:10,page:1,sort:"",search:""},FILTER:[{name:"All"},{name:"Approved"},{name:"Not Approved"}]},r={error:{badRequest:400,forbidden:403,internalServerError:500,notFound:404,unauthorized:401},success:200}},4170:function(e,t,s){"use strict";s.d(t,{vA:function(){return h},fD:function(){return u},ZP:function(){return m},py:function(){return d}});var a=s(6741),r=s(4567),n=s(307),l=s(2920);let i=(e,t)=>{(0,l.Am)(e,{...t})},o=async e=>{try{if(e.username===n.t.ADMIN_CREDENTIALS.username&&e.password===n.t.ADMIN_CREDENTIALS.passweord)return{message:n.t.Login.SUCCESS,success:!0,accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9"};throw i(n.t.Login.FAILED,{type:"error"})}catch(t){throw t}},d=(0,a.hg)("signIn",async e=>{try{let t=await o(e);return t}catch(s){throw s}}),c=(0,a.oM)({name:"authSlice",initialState:{status:"idle",userStatus:"idle",isUserLoggedIn:!1},reducers:{auth:e=>e,updateIsLoggedIn:(e,t)=>{e.isUserLoggedIn=t.payload},updateIsLogout:(e,t)=>{e.isUserLoggedIn=t.payload}},extraReducers(e){e.addCase(d.pending,e=>{e.status="loading",e.userStatus="loading"}).addCase(d.fulfilled,(e,t)=>{e.status="fulfilled",e.userStatus="fulfilled",e.isUserLoggedIn=!0,r.m.setItem(n.t.LOCAL_STORAGE_KEYS.TOKEN,t.payload.accessToken),i(t.payload.message,{type:"success"})}).addCase(d.rejected,(e,t)=>{e.status="rejected",e.userStatus="rejected"})}});var m=c.reducer;let u=e=>e,h=c.actions},2607:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var a=s(1844),r=s(5784),n=s(5274),l=s(4080),i=s(6258),o=s(307),d=s(1831),c=s(969),m=s(5675),u=s.n(m),h={src:"/_next/static/media/ArrowLeftIconVector.963e5317.svg",height:18,width:10},p={src:"/_next/static/media/ArrowRightIconVector.29025d68.svg",height:18,width:10};let x=e=>{let{totalPage:t,onPageChange:s,activePage:n=1}=e;return(0,a.jsx)(r.Fragment,{children:(0,a.jsxs)("div",{className:"flex items-center px-8 mx-11",children:[(0,a.jsx)("button",{type:"button",className:" rounded-xl justify-center focus:ring-4 focus:ring-blue-300 px-3 py-2 ",onClick:()=>{s(n-=1)},disabled:n<=1,children:(0,a.jsx)(u(),{src:h,alt:"right-arrow-icon"})}),(0,a.jsx)("div",{className:"flex justify-center items-center",children:(0,a.jsxs)("span",{className:"px-2 py-2 text-gray-700 rounded-md",children:[n," - ",t]})}),(0,a.jsx)("button",{type:"button",className:"rounded-xl focus:ring-4 focus:ring-blue-300 font-medium text-sm px-3 py-2 ",onClick:()=>{s(n+=1)},disabled:n===t,children:(0,a.jsx)(u(),{src:p,alt:"right-arrow-icon"})})]})})};var g={src:"/_next/static/media/info.4a767435.svg",height:20,width:20},f={src:"/_next/static/media/search.563fe943.svg",height:20,width:20},y={src:"/_next/static/media/dropdown.0c3c19fb.svg",height:9,width:15},v={src:"/_next/static/media/trash.d3f16314.svg",height:24,width:24};let b=()=>{let e=(0,d.TL)(),{shops:t,totalPages:s}=(0,d.CG)(c.cf).shop,[m,h]=(0,r.useState)(o.t.SHOPS_PAGINATION_FILTER),[p,b]=(0,r.useState)(!1),[j,w]=(0,r.useState)({_id:"",name:"",address:"",city:"",location:{lat:"",long:""},is_approved:!1}),[N,S]=(0,r.useState)({id:"",isToggleModalOpen:!1}),[C,I]=(0,r.useState)({id:"",isDeleteModalOpen:!1}),[T,A]=(0,r.useState)(""),[_,k]=(0,r.useState)(o.t.FILTER[0]);(0,r.useEffect)(()=>{e((0,c.ED)(m))},[m]);let F=e=>{let t={...m,page:1,search:e,sort:""};h(t)},L=e=>{b(!0),w(e)},O=s=>{let a=t.find(e=>e._id===s);if(a){let r={...a,is_approved:!a.is_approved},n={_id:null==r?void 0:r._id,name:null==r?void 0:r.name,address:null==r?void 0:r.address,city:null==r?void 0:r.city,is_approved:r.is_approved,location:{lat:null==r?void 0:r.location.lat,long:null==r?void 0:r.location.long}};e((0,c.nu)(n))}},P=s=>{let a=t.find(e=>e._id===s);e((0,c.kT)(null==a?void 0:a._id))};return(0,a.jsxs)(r.Fragment,{children:[(0,a.jsxs)("div",{className:" flex flex-row mx-8",children:[(0,a.jsxs)("div",{className:"flex items-center rounded-md bg-white",children:[(0,a.jsx)("input",{type:"search",className:"relative block rounded-l p-4 text-sm text-cinder bg-white w-[500px] h-14",placeholder:"Search","aria-label":"Search",value:m.search,onChange:e=>{let t=e.target.value.trim();F(t)}}),(0,a.jsx)(u(),{src:f,alt:"searchIcon",className:"m-3"})]}),(0,a.jsxs)(n.R,{as:"div",className:"relative inline-block ml-5",value:_,onChange:e=>{switch(e.name){case"All":let t={...m};delete t.is_approved,k(o.t.FILTER[0]),h(t);break;case"Approved":let s={...m,is_approved:!0};k(o.t.FILTER[1]),h(s);break;case"Not Approved":let a={...m,is_approved:!1};k(o.t.FILTER[2]),h(a)}},children:[(0,a.jsxs)(n.R.Button,{className:"relative w-72 cursor-default text-cinder bg-white font-medium rounded-md text-sm inline-flex items-center p-4 h-[57px]",children:[(0,a.jsx)("span",{className:"block truncate",children:_.name}),(0,a.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-6",children:(0,a.jsx)(u(),{src:y,alt:"dropdown svg",height:"10",width:"10"})})]}),(0,a.jsx)(l.u,{as:r.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)(n.R.Options,{className:"absolute mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-sm shadow-lg",children:o.t.FILTER.map((e,t)=>(0,a.jsx)(n.R.Option,{className:e=>{let{active:t}=e;return"relative cursor-default select-none py-2 pl-10 pr-4 ".concat(t?"bg-seashell text-red-500":"text-gray-900")},value:e,children:t=>{let{selected:s}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"block truncate ".concat(s?"font-medium":"font-normal"),children:e.name}),s?(0,a.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-amber-600"}):null]})}},"Filter ".concat(t)))})})]})]}),(0,a.jsxs)("div",{className:" overflow-x-auto px-8 mt-5",children:[(0,a.jsxs)("table",{className:"w-full text-sm text-left text-gray-500",children:[(0,a.jsx)("thead",{className:"text-xs text-mistblue uppercase ",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"p-4",children:"Building Name"}),(0,a.jsx)("th",{scope:"col",className:"p-4",children:"Address"}),(0,a.jsx)("th",{scope:"col",className:"p-4",children:"Status"}),(0,a.jsx)("th",{scope:"col",className:"p-4",children:"Delete"})]})}),(0,a.jsx)("tbody",{children:Array.isArray(t)&&t.map((e,t)=>(0,a.jsxs)("tr",{className:"bg-white border-b border-iron",children:[(0,a.jsx)("td",{scope:"row",className:"pl-4 text-cinder whitespace-nowrap",children:e.name}),(0,a.jsx)("td",{className:" text-cinder",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u(),{src:g,alt:"Info Logo",height:"20",width:"20",onClick:()=>{L(e)},className:"mr-3 justify-center items-center"}),(0,a.jsxs)("div",{children:[e.address,", ",e.city]})]})}),(0,a.jsx)("td",{className:"pl-4 text-black",children:(0,a.jsxs)("label",{className:"relative inline-flex items-center mr-5 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",value:"",className:"sr-only peer",checked:e.is_approved,onChange:()=>{S({id:e._id,isToggleModalOpen:!0})}}),(0,a.jsx)("div",{className:"w-11 h-6 bg-seashell rounded-full peer peer-focus:ring-4 peer-focus:ring-green-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})}),(0,a.jsx)("td",{className:" text-cinder",children:(0,a.jsx)("button",{type:"button",className:" rounded-lg px-5 py-2.5 mr-2 mb-2 justify-center items-center",onClick:()=>{I({id:e._id,isDeleteModalOpen:!0})},children:(0,a.jsx)(u(),{src:v,alt:"delete icon",height:"20",width:"25"})})})]},"tableRow ".concat(t)))})]}),(0,a.jsx)(l.u.Root,{as:r.Fragment,show:p,children:(0,a.jsxs)(i.V,{as:"div",className:"relative z-10",onClose:b,children:[(0,a.jsx)(l.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,a.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,a.jsx)(l.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)(i.V.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[(0,a.jsx)("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:(0,a.jsxs)("div",{className:" text-center sm:text-left",children:[(0,a.jsx)(i.V.Title,{as:"h3",className:"text-base font-semibold leading-6 text-cinder",children:"Building Information"}),(0,a.jsx)("div",{className:"mt-5",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-cinder",children:[(0,a.jsx)("label",{children:"Name"}),(0,a.jsx)("div",{children:j.name}),(0,a.jsx)("label",{children:"Address"}),(0,a.jsx)("div",{children:j.address}),(0,a.jsx)("label",{children:"City"}),(0,a.jsx)("div",{children:j.city}),(0,a.jsx)("label",{children:"Location"}),(0,a.jsxs)("div",{children:["lat : ",j.location.lat,(0,a.jsx)("br",{}),"long : ",j.location.long]})]})})]})}),(0,a.jsx)("div",{className:"bg-seashell px-4 py-3 ",children:(0,a.jsx)("button",{type:"button",className:"border-2 border-lavared text-lavared mt-0 inline-flex w-auto justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold shadow-sm ",onClick:()=>b(!1),children:"Close"})})]})})})})]})}),(0,a.jsx)(l.u.Root,{as:r.Fragment,show:N.isToggleModalOpen,children:(0,a.jsxs)(i.V,{as:"div",className:"relative z-10",onClose:b,children:[(0,a.jsx)(l.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,a.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,a.jsx)(l.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)(i.V.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[(0,a.jsx)("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:(0,a.jsx)("div",{className:"sm:flex sm:items-start",children:(0,a.jsx)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:(0,a.jsx)(i.V.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:"Are you Sure"})})})}),(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[(0,a.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto",onClick:()=>{O(N.id),S({id:"",isToggleModalOpen:!1})},children:"Yes"}),(0,a.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:()=>{S({id:"",isToggleModalOpen:!1})},children:"Cancel"})]})]})})})})]})}),(0,a.jsx)(l.u.Root,{as:r.Fragment,show:C.isDeleteModalOpen,children:(0,a.jsxs)(i.V,{as:"div",className:"relative z-10",onClose:b,children:[(0,a.jsx)(l.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,a.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto",children:(0,a.jsx)("div",{className:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0",children:(0,a.jsx)(l.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,a.jsxs)(i.V.Panel,{className:"relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg",children:[(0,a.jsx)("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:(0,a.jsx)("div",{className:"sm:flex sm:items-start",children:(0,a.jsx)("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:(0,a.jsx)(i.V.Title,{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:"Are you Sure want to delete shop?"})})})}),(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[(0,a.jsx)("button",{type:"button",className:"inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto",onClick:()=>{P(C.id),I({id:"",isDeleteModalOpen:!1})},children:"Yes"}),(0,a.jsx)("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:()=>{I({id:"",isDeleteModalOpen:!1})},children:"NO"})]})]})})})})]})})]}),(0,a.jsx)(x,{totalPage:s,activePage:m.page,onPageChange:e=>{h({...m,page:e})}})]})};var j=b},969:function(e,t,s){"use strict";s.d(t,{ZP:function(){return f},kT:function(){return x},ED:function(){return h},cf:function(){return y},nu:function(){return p}});var a=s(6741),r=s(4170),n=s(1831),l=s(6154),i=s(307),o=s(4567);let d=l.Z.create({baseURL:"https://bc5d-122-179-138-114.ngrok-free.app"});d.interceptors.response.use(e=>e,e=>{let{config:t,response:s}=e;return s&&(null==s?void 0:s.status)===i.z.error.unauthorized&&(n.ZP.dispatch(r.vA.updateIsLoggedIn(!1)),o.m.removeItem("token")),Promise.reject(e)});let c=async e=>{try{let t=await d({method:"get",params:e,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json","User-Agent":"*","ngrok-skip-browser-warning":"*"},url:"".concat("https://bc5d-122-179-138-114.ngrok-free.app","/building")});return t.data}catch(s){throw s}},m=async e=>{try{let t=await d({method:"patch",data:e,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json","User-Agent":"*","ngrok-skip-browser-warning":"*"},url:"".concat("https://bc5d-122-179-138-114.ngrok-free.app","/building/").concat(e._id)});return t.data}catch(s){throw s}},u=async e=>{try{let t=await d({method:"delete",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json","User-Agent":"*","ngrok-skip-browser-warning":"*"},url:"".concat("https://bc5d-122-179-138-114.ngrok-free.app","/building/").concat(e)});return t.data}catch(s){throw s}},h=(0,a.hg)("get/shops",async e=>{try{let t=await c(e);return t}catch(s){throw s}}),p=(0,a.hg)("update/shops",async(e,t)=>{let{dispatch:s}=t;try{let a=await m(e);return s(h(i.t.SHOPS_PAGINATION_FILTER)),a}catch(r){throw r}}),x=(0,a.hg)("delete/shops",async(e,t)=>{let{dispatch:s}=t;try{let a=await u(e);return s(h(i.t.SHOPS_PAGINATION_FILTER)),a}catch(r){throw r}}),g=(0,a.oM)({name:"shop",initialState:{total:0,currentPage:0,perPage:0,totalPages:0,shops:[],getShopDataStatus:!1,isShopDeleted:!1,shopDeleted:""},reducers:{shops:e=>e},extraReducers(e){e.addCase(h.pending,e=>{e.getShopDataStatus=!1}).addCase(h.fulfilled,(e,t)=>{e.getShopDataStatus=!0,e.shops=t.payload.data,e.total=t.payload.total,e.currentPage=t.payload.currentPage,e.perPage=t.payload.perPage,e.totalPages=t.payload.totalPages}).addCase(h.rejected,e=>{e.getShopDataStatus=!1}).addCase(p.pending,e=>{e.getShopDataStatus=!1}).addCase(p.fulfilled,(e,t)=>{e.getShopDataStatus=!0,e.shops=t.payload.data}).addCase(p.rejected,e=>{e.getShopDataStatus=!1}).addCase(x.pending,e=>{e.isShopDeleted=!1}).addCase(x.fulfilled,(e,t)=>{e.isShopDeleted=!0,e.shopDeleted=t.payload.data}).addCase(x.rejected,e=>{e.isShopDeleted=!1})}});var f=g.reducer;let y=e=>e;g.actions},1831:function(e,t,s){"use strict";s.d(t,{CG:function(){return d},TL:function(){return o}});var a=s(4170),r=s(969),n=s(6741),l=s(9473);let i=(0,n.xC)({reducer:{auth:a.ZP,shop:r.ZP}});t.ZP=i;let o=()=>(0,l.I0)(),d=l.v9},4567:function(e,t,s){"use strict";s.d(t,{m:function(){return a}});class a{static setItem(e,t){localStorage.setItem(e,t)}static getItem(e){return localStorage.getItem(e)}static removeItem(e){return localStorage.removeItem(e)}static clearLocalStorage(){return localStorage.clear()}}}},function(e){e.O(0,[512,305,17,744],function(){return e(e.s=1746)}),_N_E=e.O()}]);